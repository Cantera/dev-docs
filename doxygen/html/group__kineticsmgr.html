<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cantera: Kinetics Managers</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cantera
   &#160;<span id="projectnumber">2.4.0a1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Kinetics Managers<div class="ingroups"><a class="el" href="group__chemkinetics.html">Chemical Kinetics</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for Kinetics Managers:</div>
<div class="dyncontent">
<center><table><tr><td><div class="center"><iframe scrolling="no" frameborder="0" src="group__kineticsmgr.svg" width="339" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCantera_1_1ImplicitSurfChem.html">ImplicitSurfChem</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Advances the surface coverages of the associated set of SurfacePhase objects in time.  <a href="classCantera_1_1ImplicitSurfChem.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCantera_1_1Kinetics.html">Kinetics</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Public interface for kinetics managers.  <a href="classCantera_1_1Kinetics.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gacf1d3ddca3956fd62ce6096af3edd6b6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__kineticsmgr.html#gacf1d3ddca3956fd62ce6096af3edd6b6">installReactionArrays</a> (const <a class="el" href="classCantera_1_1XML__Node.html">XML_Node</a> &amp;p, <a class="el" href="classCantera_1_1Kinetics.html">Kinetics</a> &amp;kin, std::string default_phase, bool check_for_duplicates=false)</td></tr>
<tr class="memdesc:gacf1d3ddca3956fd62ce6096af3edd6b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Install information about reactions into the kinetics object, kin.  <a href="group__kineticsmgr.html#gacf1d3ddca3956fd62ce6096af3edd6b6">More...</a><br /></td></tr>
<tr class="separator:gacf1d3ddca3956fd62ce6096af3edd6b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga222ca55d41ac03b0b6754e9f95d33c04"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__kineticsmgr.html#ga222ca55d41ac03b0b6754e9f95d33c04">importKinetics</a> (const <a class="el" href="classCantera_1_1XML__Node.html">XML_Node</a> &amp;phase, std::vector&lt; <a class="el" href="classCantera_1_1ThermoPhase.html">ThermoPhase</a> * &gt; th, <a class="el" href="classCantera_1_1Kinetics.html">Kinetics</a> *kin)</td></tr>
<tr class="memdesc:ga222ca55d41ac03b0b6754e9f95d33c04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Import a reaction mechanism for a phase or an interface.  <a href="group__kineticsmgr.html#ga222ca55d41ac03b0b6754e9f95d33c04">More...</a><br /></td></tr>
<tr class="separator:ga222ca55d41ac03b0b6754e9f95d33c04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3000c8f3c00edab5b524e177cfab2390"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__kineticsmgr.html#ga3000c8f3c00edab5b524e177cfab2390">checkDuplicateStoich</a> (std::map&lt; int, double &gt; &amp;r1, std::map&lt; int, double &gt; &amp;r2) const</td></tr>
<tr class="memdesc:ga3000c8f3c00edab5b524e177cfab2390"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether <code>r1</code> and <code>r2</code> represent duplicate stoichiometries This function returns a ratio if two reactions are duplicates of one another, and 0.0 otherwise.  <a href="#ga3000c8f3c00edab5b524e177cfab2390">More...</a><br /></td></tr>
<tr class="separator:ga3000c8f3c00edab5b524e177cfab2390"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h1><a class="anchor" id="kinmodman"></a>
Models and Managers</h1>
<p>A kinetics manager is a C++ class that implements a kinetics model; a kinetics model is a set of mathematical equation describing how various kinetic quantities are to be computed &ndash; reaction rates, species production rates, etc. Many different kinetics models might be defined to handle different types of kinetic processes. For example, one kinetics model might use expressions valid for elementary reactions in ideal gas mixtures. It might, for example, require the reaction orders to be integral and equal to the forward stoichiometric coefficients, require that each reaction be reversible with a reverse rate satisfying detailed balance, include pressure-dependent unimolecular reactions, etc. Another kinetics model might be designed for heterogeneous chemistry at interfaces, and might allow empirical reaction orders, coverage-dependent activation energies, irreversible reactions, and include effects of potential differences across the interface on reaction rates.</p>
<p>A kinetics manager implements a kinetics model. Since the model equations may be complex and expensive to evaluate, a kinetics manager may adopt various strategies to 'manage' the computation and evaluate the expressions efficiently. For example, if there are rate coefficients or other quantities that depend only on temperature, a manager class may choose to store these quantities internally, and re-evaluate them only when the temperature has actually changed. Or a manager designed for use with reaction mechanisms with a few repeated activation energies might precompute the terms \( exp(-E/RT) \), instead of evaluating the exponential repeatedly for each reaction. There are many other possible 'management styles', each of which might be better suited to some reaction mechanisms than others.</p>
<p>But however a manager structures the internal computation, the tasks the manager class must perform are, for the most part, the same. It must be able to compute reaction rates, species production rates, equilibrium constants, etc. Therefore, all kinetics manager classes should have a common set of public methods, but differ in how they implement these methods.</p>
<p>A kinetics manager computes reaction rates of progress, species production rates, equilibrium constants, and similar quantities for a reaction mechanism. All kinetics manager classes derive from class <a class="el" href="classCantera_1_1Kinetics.html" title="Public interface for kinetics managers. ">Kinetics</a>, which defines a common public interface for all kinetics managers. Each derived class overloads the virtual methods of <a class="el" href="classCantera_1_1Kinetics.html" title="Public interface for kinetics managers. ">Kinetics</a> to implement a particular kinetics model.</p>
<p>For example, class <a class="el" href="classCantera_1_1GasKinetics.html" title="Kinetics manager for elementary gas-phase chemistry. ">GasKinetics</a> implements reaction rate expressions appropriate for homogeneous reactions in ideal gas mixtures, and class <a class="el" href="classCantera_1_1InterfaceKinetics.html" title="A kinetics manager for heterogeneous reaction mechanisms. ">InterfaceKinetics</a> implements expressions appropriate for heterogeneous mechanisms at interfaces, including how to handle reactions involving charged species of phases with different electric potentials &mdash; something that class <a class="el" href="classCantera_1_1GasKinetics.html" title="Kinetics manager for elementary gas-phase chemistry. ">GasKinetics</a> doesn't deal with at all.</p>
<p>Many of the methods of class <a class="el" href="classCantera_1_1Kinetics.html" title="Public interface for kinetics managers. ">Kinetics</a> write into arrays the values of some quantity for each species, for example the net production rate. These methods always write the results into flat arrays, ordered by phase in the order the phase was added, and within a phase in the order the species were added to the phase (which is the same ordering as in the input file). Example: suppose a heterogeneous mechanism involves three phases &ndash; a bulk phase 'a', another bulk phase 'b', and the surface phase 'a:b' at the a/b interface. <a class="el" href="classCantera_1_1Phase.html" title="Class Phase is the base class for phases of matter, managing the species and elements in a phase...">Phase</a> 'a' contains 12 species, phase 'b' contains 3, and at the interface there are 5 adsorbed species defined in phase 'a:b'. Then methods like getNetProductionRates(doublereal* net) will write and output array of length 20, beginning at the location pointed to by 'net'. The first 12 values will be the net production rates for all 12 species of phase 'a' (even if some do not participate in the reactions), the next 3 will be for phase 'b', and finally the net production rates for the surface species will occupy the last 5 locations. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gacf1d3ddca3956fd62ce6096af3edd6b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacf1d3ddca3956fd62ce6096af3edd6b6">&#9670;&nbsp;</a></span>installReactionArrays()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool installReactionArrays </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCantera_1_1XML__Node.html">XML_Node</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCantera_1_1Kinetics.html">Kinetics</a> &amp;&#160;</td>
          <td class="paramname"><em>kin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>default_phase</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>check_for_duplicates</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Install information about reactions into the kinetics object, kin. </p>
<p>At this point, parent usually refers to the phase XML element. One of the children of this element is reactionArray, the element which determines where in the XML file to look up the reaction rate data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>parent XML phase element </td></tr>
    <tr><td class="paramname">kin</td><td><a class="el" href="classCantera_1_1Kinetics.html" title="Public interface for kinetics managers. ">Kinetics</a> object to install reactions into </td></tr>
    <tr><td class="paramname">default_phase</td><td>The default_phase is the default phase to assume when looking up species. </td></tr>
    <tr><td class="paramname">check_for_duplicates</td><td>Check for reactions with exactly the same reactants and products.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On return, if reaction instantiation goes correctly, return true. If there is a problem, return false. </dd></dl>

<p class="definition">Definition at line <a class="el" href="importKinetics_8cpp_source.html#l00029">29</a> of file <a class="el" href="importKinetics_8cpp_source.html">importKinetics.cpp</a>.</p>

<p class="reference">References <a class="el" href="Kinetics_8cpp_source.html#l00461">Kinetics::addReaction()</a>, <a class="el" href="xml_8cpp_source.html#l00500">XML_Node::attrib()</a>, <a class="el" href="Kinetics_8cpp_source.html#l00076">Kinetics::checkDuplicates()</a>, <a class="el" href="importKinetics_8cpp_source.html#l00217">Cantera::checkElectrochemReaction()</a>, <a class="el" href="xml_8cpp_source.html#l00546">XML_Node::child()</a>, <a class="el" href="global_8cpp_source.html#l00189">Cantera::get_XML_Node()</a>, <a class="el" href="xml_8cpp_source.html#l00864">XML_Node::getChildren()</a>, <a class="el" href="xml_8cpp_source.html#l00536">XML_Node::hasChild()</a>, <a class="el" href="Reaction_8cpp_source.html#l00603">Cantera::newReaction()</a>, <a class="el" href="ct__defs_8h_source.html#l00165">Cantera::npos</a>, <a class="el" href="xml_8cpp_source.html#l01025">XML_Node::root()</a>, <a class="el" href="Kinetics_8h_source.html#l00737">Kinetics::skipUndeclaredSpecies()</a>, and <a class="el" href="Kinetics_8h_source.html#l00746">Kinetics::skipUndeclaredThirdBodies()</a>.</p>

<p class="reference">Referenced by <a class="el" href="importKinetics_8cpp_source.html#l00131">Cantera::importKinetics()</a>.</p>

</div>
</div>
<a id="ga222ca55d41ac03b0b6754e9f95d33c04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga222ca55d41ac03b0b6754e9f95d33c04">&#9670;&nbsp;</a></span>importKinetics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool importKinetics </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCantera_1_1XML__Node.html">XML_Node</a> &amp;&#160;</td>
          <td class="paramname"><em>phase</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classCantera_1_1ThermoPhase.html">ThermoPhase</a> * &gt;&#160;</td>
          <td class="paramname"><em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCantera_1_1Kinetics.html">Kinetics</a> *&#160;</td>
          <td class="paramname"><em>kin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Import a reaction mechanism for a phase or an interface. </p>
<p>This routine will import a reaction mechanism into a kinetics object. The reaction mechanism may either be homogeneous or heterogeneous, involving multiple <a class="el" href="classCantera_1_1ThermoPhase.html" title="Base class for a phase with thermodynamic properties. ">ThermoPhase</a> objects. The hosting phase should be included as the first argument. For example, if phase I is an interface phase between bulk phases A and B. Then, the <a class="el" href="classCantera_1_1XML__Node.html" title="Class XML_Node is a tree-based representation of the contents of an XML file. ">XML_Node</a> for phase I should be the first argument. The vector of <a class="el" href="classCantera_1_1ThermoPhase.html" title="Base class for a phase with thermodynamic properties. ">ThermoPhase</a> objects should consist of pointers to phases I, A, and B.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phase</td><td>This is an XML node containing a description of the owning phase for the kinetics object. Within the phase is a XML element called reactionArray containing the location of the description of the reactions that make up the kinetics object. Also within the phase is an XML element called phaseArray containing a listing of other phases that participate in the kinetics mechanism.</td></tr>
    <tr><td class="paramname">th</td><td>This is a list of <a class="el" href="classCantera_1_1ThermoPhase.html" title="Base class for a phase with thermodynamic properties. ">ThermoPhase</a> pointers which must include all of the phases that participate in the kinetics operator. All of the phases must have already been initialized and formed within <a class="el" href="namespaceCantera.html" title="Namespace for the Cantera kernel. ">Cantera</a>. However, their pointers should not have been added to the <a class="el" href="classCantera_1_1Kinetics.html" title="Public interface for kinetics managers. ">Kinetics</a> object; this addition is carried out here. Additional phases may be include in the list; these have no effect.</td></tr>
    <tr><td class="paramname">kin</td><td>This is a pointer to a kinetics manager class that will be initialized with the kinetics mechanism. Inherited <a class="el" href="classCantera_1_1Kinetics.html" title="Public interface for kinetics managers. ">Kinetics</a> classes should be used here. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="importKinetics_8cpp_source.html#l00131">131</a> of file <a class="el" href="importKinetics_8cpp_source.html">importKinetics.cpp</a>.</p>

<p class="reference">References <a class="el" href="Kinetics_8cpp_source.html#l00430">Kinetics::addPhase()</a>, <a class="el" href="xml_8cpp_source.html#l00546">XML_Node::child()</a>, <a class="el" href="ctml_8cpp_source.html#l00427">Cantera::getStringArray()</a>, <a class="el" href="xml_8cpp_source.html#l00536">XML_Node::hasChild()</a>, <a class="el" href="Kinetics_8h_source.html#l00699">Kinetics::init()</a>, <a class="el" href="importKinetics_8cpp_source.html#l00029">Cantera::installReactionArrays()</a>, <a class="el" href="ct__defs_8h_source.html#l00165">Cantera::npos</a>, <a class="el" href="xml_8cpp_source.html#l00525">XML_Node::parent()</a>, and <a class="el" href="Kinetics_8h_source.html#l00189">Kinetics::phaseIndex()</a>.</p>

<p class="reference">Referenced by <a class="el" href="importKinetics_8cpp_source.html#l00194">Cantera::buildSolutionFromXML()</a>, <a class="el" href="Interface_8h_source.html#l00041">Interface::Interface()</a>, and <a class="el" href="KineticsFactory_8cpp_source.html#l00024">KineticsFactory::newKinetics()</a>.</p>

</div>
</div>
<a id="ga3000c8f3c00edab5b524e177cfab2390"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3000c8f3c00edab5b524e177cfab2390">&#9670;&nbsp;</a></span>checkDuplicateStoich()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double checkDuplicateStoich </td>
          <td>(</td>
          <td class="paramtype">std::map&lt; int, double &gt; &amp;&#160;</td>
          <td class="paramname"><em>r1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; int, double &gt; &amp;&#160;</td>
          <td class="paramname"><em>r2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check whether <code>r1</code> and <code>r2</code> represent duplicate stoichiometries This function returns a ratio if two reactions are duplicates of one another, and 0.0 otherwise. </p>
<p><code>r1</code> and <code>r2</code> are maps of species key to stoichiometric coefficient, one for each reaction, where the species key is <code>1+k</code> for reactants and <code>-1-k</code> for products and <code>k</code> is the species index.</p>
<dl class="section return"><dt>Returns</dt><dd>0.0 if the stoichiometries are not multiples of one another Otherwise, it returns the ratio of the stoichiometric coefficients. </dd></dl>

<p class="definition">Definition at line <a class="el" href="Kinetics_8cpp_source.html#l00180">180</a> of file <a class="el" href="Kinetics_8cpp_source.html">Kinetics.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
